<!DOCTYPE html>
<html>
  <head>
    <%# VVLOGOVV %>
    <link rel="icon" href="https://avatars1.githubusercontent.com/u/8742021?v=3&amp;s=400">

    <title>Jam Connect</title>
    <meta content="width=device-width" name="viewport">
    <%= stylesheet_link_tag    'application', media: 'all' %>
    <%= javascript_include_tag 'application' %>
    <%= csrf_meta_tags %>
    <link href='http://fonts.googleapis.com/css?family=Libre+Baskerville:400,700,400italic' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">

   <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>





  </head>

  <%= session[:user_id] ? '<body>'.html_safe : '<body class="parallax">'.html_safe %>

    <%= render 'layouts/header' %>


    <div class="container">
      <%= yield %>
    </div>

   <footer>

     <% if session[:user_id] %>
      <%= render 'layouts/footer' %>
    <% end %>
    </footer>




<% if session[:user_id] %>
  <script>
    mobileDashboard(); // run on load to adjust menu for mobile screens
    $( window ).resize(function() { mobileDashboard(); });// run when resizing the window to cover our tracks

    function mobileDashboard(){
      // make mobile dashboard menu dynamically fit all screen sizes
      var parentHeight = $("body").height();
      var footerHeight = $('.mobile-menu-bar').height();
      var dashboardBlocks = $('.dashboard a')
      dashboardBlocks = dashboardBlocks.length
      var newHeight = ( (parentHeight - 20 ) / dashboardBlocks)
      // not sure why it's 20. the footer is 50px. but 20 fixes any issues.
      $('.dashboard-button').css("height",newHeight);

      // set line height on text so that it dynamically stays vertically centered
      $('.dashboard-button').css("line-height",newHeight+'px');
    }
  </script>
<% end %>

  </body>
</html>
